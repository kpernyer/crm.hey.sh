# Backend Justfile (Rust/Axum)

set dotenv-load := true

default: fmt lint test

# Format the code
fmt:
    cargo fmt

# Lint the code
lint:
    cargo clippy -- -D warnings

# Run all tests
test:
    cargo test

# Run the server
run:
    cargo run --bin crm-server

# Build the project for release
build:
    cargo build --release

# Deploy the project
deploy:
    # Add deployment logic here (likely Terraform)
    echo "Deploy with Terraform"

# Install dependencies
install:
    cargo fetch

# Run linting and checks
check:
    cargo check
    cargo clippy -- -D warnings

# Clean build artifacts
clean:
    cargo clean
